<% include layout.ejs %>

<section>
    <h2>Graphs</h2>
    
    <canvas id="incomeExpenseChart"></canvas>
    <canvas id="categoryChart"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const incomeExpenseCtx = document.getElementById('incomeExpenseChart').getContext('2d');
        const categoryCtx = document.getElementById('categoryChart').getContext('2d');

        const incomeExpenseChart = new Chart(incomeExpenseCtx, {
            type: 'bar',
            data: {
                labels: ['Income', 'Expenses'],
                datasets: [{
                    label: 'Amount',
                    data: [<%= incomeTotal %>, <%= expenseTotal %>],
                    backgroundColor: ['green', 'red']
                }]
            }
        });

        const categoryChart = new Chart(categoryCtx, {
            type: 'pie',
            data: {
                labels: <%= JSON.stringify(categoryLabels) %>,
                datasets: [{
                    data: <%= JSON.stringify(categoryData) %>,
                    backgroundColor: ['orange', 'blue', 'purple', 'green', 'yellow']
                }]
            }
        });
    </script>
</section>
